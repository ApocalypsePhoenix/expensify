<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Transaction - EXPEN$IFY</title>
  <link rel="stylesheet" href="/css/edittransaction.css">
</head>
<body>

<div class="wrapper">
  <!-- Sidebar -->
  <div class="sidebar">
    <div class="logo">
      <img src="/images/expensifylogo.png" alt="EXPEN$IFY" class="logo-img">
    </div>
    <ul>
      <li><a th:href="@{/dashboard}">Dashboard</a></li>
      <li><a th:href="@{/transactions}">Transactions</a></li>
      <li><a th:href="@{/bills}">Bills</a></li>
      <li><a th:href="@{/budgets}">Budgets</a></li>
      <li><a th:href="@{/reports}">Reports</a></li>
      <li><a th:href="@{/users/settings}">Settings</a></li>
    </ul>
  </div>

  <!-- Main Content -->
  <div class="content">
    <header>
      <h1>Edit Transaction</h1>
      <p>Edit the details of your financial transaction below.</p>
    </header>

    <section class="transaction-form-section">
      <h3>Transaction Details</h3>
      <p class="transaction-description">Update the form below to modify your transaction.</p>

      <form th:action="@{/transactions/edit/{id}(id=${transaction.id})}" method="POST">
        <div class="input-group">
          <label for="date">Date</label>
          <input type="date" id="date" name="date" th:value="${transaction.date}" required>
        </div>

        <div class="input-group">
          <label for="description">Description</label>
          <input type="text" id="description" name="description" th:value="${transaction.description}" required>
        </div>

        <div class="input-group">
          <label for="category">Category</label>
          <select id="category" name="category" required>
            <option th:value="1" th:text="'Food & Drink'" th:selected="${transaction.categoryId == 1}"></option>
            <option th:value="2" th:text="'Income'" th:selected="${transaction.categoryId == 2}"></option>
            <option th:value="3" th:text="'Shopping'" th:selected="${transaction.categoryId == 3}"></option>
            <option th:value="4" th:text="'Entertainment'" th:selected="${transaction.categoryId == 4}"></option>
            <option th:value="5" th:text="'Education'" th:selected="${transaction.categoryId == 5}"></option>
          </select>
        </div>

        <div class="input-group">
          <label for="currency">Currency</label>
          <select id="currency" name="currency" required>
            <option th:value="1" th:text="'MYR - RM (Malaysian Ringgit)'" th:selected="${transaction.currencyId == 1}"></option>
            <option th:value="2" th:text="'USD - $ (US Dollar)'" th:selected="${transaction.currencyId == 2}"></option>
            <option th:value="3" th:text="'EUR - € (Euro)'" th:selected="${transaction.currencyId == 3}"></option>
            <option th:value="4" th:text="'GBP - £ (British Pound)'" th:selected="${transaction.currencyId == 4}"></option>
          </select>
        </div>

        <div class="input-group">
          <label for="amount">Amount (in your default currency)</label>
          <input type="number" id="amount" name="amount" step="0.01" th:value="${transaction.amount}" required>
        </div>

        <div class="input-group">
          <label>Transaction Type</label>
          <div class="radio-group">
            <label><input type="radio" name="transaction_type" value="Expense" th:checked="${transaction.transactionType == 'Expense'}"> Expense</label>
            <label><input type="radio" name="transaction_type" value="Income" th:checked="${transaction.transactionType == 'Income'}"> Income</label>
          </div>
        </div>

        <button type="submit" class="btn-submit">Save Changes</button>
      </form>
    </section>
  </div>
</div>

</body>
</html>
